import { Button, ListView, ComboBox , VerticalBox, TextEdit, HorizontalBox} from "std-widgets.slint";

export component AppWindow inherits Window {
    default-font-size: 20px;
    width: 600px;
    height: 600px;

    in-out property<[{text: string, color: color, bg: color, user: bool}]> datas: [
                        { text: "Blue\nejif", color: #0000ff, bg: #eeeeee, user: true},
                        { text: "Red", color: #ff0000, bg: #eeeeee, user: false},
                        { text: "Green", color: #00ff00, bg: #eeeeee, user: true},
                        { text: "Yellow", color: #ffff00, bg: #222222, user:false },

                    ];

    HorizontalLayout {
        padding: Theme.padding;
        spacing: Theme.spacing;

        VerticalLayout {
            width: 200px;
            Rectangle {
                background: Colors.red;
            }

        }

        VerticalLayout {
            spacing: Theme.spacing;

            HorizontalLayout {
                alignment: center;
                spacing: Theme.spacing * 2;

                VerticalLayout {
                    alignment: center;
                    Text {
                        text: "Select Prompt";
                    }
                }
                
                ComboBox {
                    width: 50%;
                    height: self.preferred-height;
                    model: ["first", "second", "third"];
                    current-value: "first";
                }
            }

            ListView {
                padding: 4px;
                for data in datas : VerticalLayout {
                    padding: Theme.padding * 2;
                    spacing: Theme.spacing * 2;
     
                    HorizontalLayout {
                        padding-bottom: 4px;
                        alignment: space-between;
                        Rectangle {
                            height: 30px;
                            width: 30px;
                            background: Colors.red;
                            border-radius: self.height / 2;
                            visible: data.user;
                        }

                        Rectangle {
                            height: 30px;
                            width: 30px;
                            background: Colors.red;
                            visible: !data.user;
                            border-radius: self.height / 2;
                        }
                    }

                    Text {
                        width: parent.width;
                        text: data.text;
                        color: data.color;
                        wrap: word-wrap;
                    }

                    Rectangle {
                        background: Colors.steelblue;
                        width: 100%;
                        height: 1px;
                    }
                }
            }

            VerticalLayout {
                height: 200px;
                spacing: Theme.spacing;
                TextEdit {
                    edited(text) => {}
                }
                
                HorizontalLayout {
                    alignment: center;
                    spacing: Theme.spacing * 10;
                    Button {
                        height: 30px;
                        text: "Reset";
                        clicked => {}
                    }

                    Button {
                        height: 30px;
                        text: "Send";
                        clicked => {}
                    }
                } 
            }
         }
    }
}
