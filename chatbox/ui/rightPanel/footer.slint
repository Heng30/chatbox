import { Button, TextEdit } from "std-widgets.slint";
import { Theme } from "../theme.slint";
import { Store } from "../store.slint";
import { Logic } from "../logic.slint";
import { Btn } from "../base/btn.slint";

export component Footer inherits VerticalLayout {
    spacing: Theme.spacing;
    height: Theme.bottom-panel-height;

    te := TextEdit {
        edited(text) => {}
    }

    HorizontalLayout {
        alignment: space-between;

        HorizontalLayout {
            padding-right: Theme.padding;
            width: 50%;
            Btn {
                bg-color: Theme.danger-color;
                icon: @image-url("../images/format-clear.svg");
                height: 50px;
                text: "清空";
                clicked => {
                    te.text = "";
                }
            }
        }

        HorizontalLayout {
            padding-left: Theme.padding;
            width: 50%;
            Btn {
                icon: @image-url("../images/send.svg");
                height: 50px;
                text: "发送";
                clicked => {
                    if (te.text == "") { return; }

                    Logic.send-input-text(te.text);
                    te.text = "";
                }
            }
        }
    }
}
