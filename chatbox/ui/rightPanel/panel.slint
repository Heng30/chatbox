import { Theme } from "../theme.slint";
import { Header } from "./header.slint";
import { Body } from "./body/panel.slint";
import { Footer } from "./footer.slint";

export component RPanel inherits VerticalLayout {
    in-out property question <=> footer.question;
    in-out property chats-viewport-y <=> body.viewport-y;

    callback show-archive-dialog();

    public function scroll-to-top() {
        body.scroll-to-top();
    }

    public function scroll-to-bottom() {
        body.scroll-to-bottom();
    }

    public function jump-to-viewport-y(vy: length) {
        body.jump-to-viewport-y(vy);
    }

    public function scroll-up() {
        body.scroll-up();
    }

    public function scroll-down() {
        body.scroll-down();
    }

    public function is-chats-on-bottom() -> bool {
        return body.is-chats-on-bottom();
    }

    public function force-question-input-focus() {
        footer.force-focus();
    }

    public function start-record-indicator() {
        header.start-record-indicator();
    }

    public function stop-record-indicator() {
        header.stop-record-indicator();
    }

    header := Header{
        show-archive-dialog => {
            root.show-archive-dialog();
        }
    }

    body := Body {}

    footer := Footer {
        scroll-to-top => {
            root.scroll-to-top()
        }

        scroll-to-bottom => {
            root.scroll-to-bottom()
        }

        scroll-up => {
            root.scroll-up();
        }

        scroll-down => {
            root.scroll-down();
        }
    }
}

