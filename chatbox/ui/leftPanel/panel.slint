import { ListView } from "std-widgets.slint";
import { Theme } from "../theme.slint";
import { Store } from "../store.slint";
import { Logic } from "../logic.slint";
import { Btn } from "../base/btn.slint";
import { IconBtn } from "../base/icon-btn.slint";
import { Bottom } from "./bottom.slint";

export component LPanel inherits VerticalLayout {
    width: Theme.left-panel-width;

    VerticalLayout {
        height: Theme.header-height;
        Btn {
            text: "新建会话 +";
            clicked => {
                Logic.handle-new-session("会话");
            }
        }
    }

    ListView {
        for data in Store.chat-sessions : VerticalLayout {
            spacing: Theme.spacing * 2;
            Rectangle {
                background: Theme.brand-color;
                HorizontalLayout {
                    padding: Theme.padding;
                    Text {
                        color: Colors.white;
                        text: data.name;
                    }

                    HorizontalLayout {
                        alignment: end;
                        padding-right: Theme.padding;
                        spacing: Theme.spacing * 2;

                        VerticalLayout {
                            alignment: end;
                            IconBtn {
                                icon: @image-url("../images/star.svg");
                                clicked => {}
                            }
                        }

                        VerticalLayout {
                            alignment: end;
                            IconBtn {
                                icon: @image-url("../images/edit.svg");
                                clicked => {}
                            }
                        }

                        VerticalLayout {
                            alignment: end;
                            IconBtn {
                                icon: @image-url("../images/delete.svg");
                                clicked => {}
                            }
                        }
                     }
                }
            }
        }
    }

    Bottom { }
}


